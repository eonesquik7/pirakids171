<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Pirakids - Gerador de Cart√µes</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Anton&family=Roboto&display=swap');

  body {
    margin: 0;
    background-color: #000;
    color: #fff;
    font-family: 'Roboto', sans-serif;
  }

  /* FAIXA BRANCA SUPERIOR */
  .header-white {
    position: relative;
    background: linear-gradient(180deg, #fff 0%, #f0f0f0 100%);
    color: #444; /* cinza escuro */
    padding: 70px 30px 50px 30px;
    text-align: center;
    overflow: hidden;
  }

  /* Imagem da cidade cinza sutil */
  .city-bg {
    position: absolute;
    top: 0; left: 50%;
    transform: translateX(-50%);
    width: 110%;
    height: 100%;
    background: url('https://i.imgur.com/xRZ48qV.png') no-repeat center bottom;
    background-size: cover;
    opacity: 0.15; /* aumenta para ficar mais vis√≠vel */
    pointer-events: none;
    user-select: none;
    z-index: 0;
  }

  .header-content {
    position: relative;
    z-index: 1;
  }

  h1.title {
    font-family: 'Anton', sans-serif;
    font-weight: 900;
    font-size: 6rem; /* maior */
    margin: 0;
    color: #444; /* cinza forte */
    letter-spacing: 2px;
    text-shadow: 2px 2px 6px rgba(0,0,0,0.1);
  }

  p.by-nesquik {
    font-family: 'Roboto', sans-serif;
    font-weight: 500;
    font-size: 1.5rem; /* maior */
    margin: 4px 0 10px 0; /* juntinho do t√≠tulo */
    color: #555; /* cinza um pouco mais claro */
    letter-spacing: 1px;
  }

  p.mafia-quote {
    font-style: italic;
    font-weight: 700;
    font-size: 2rem; /* maior */
    color: #b31217; /* vermelho escuro */
    margin-top: 40px; /* dist√¢ncia maior */
    letter-spacing: 2px;
    text-shadow:
      1px 1px 2px #000000cc;
  }

  /* FAIXA PRETA INFERIOR */
  .header-black {
    background: #000;
    color: #fff;
    text-align: center;
    padding: 18px 30px;
    font-size: 1.6rem;
    font-weight: 600;
    font-family: 'Anton', sans-serif;
    letter-spacing: 2px;
  }

  /* Container geral */
  .container {
    max-width: 900px;
    margin: 40px auto 60px;
    padding: 0 20px;
  }

  label {
    display: block;
    margin: 15px 0 8px 0;
    font-weight: 600;
    font-size: 1.1rem;
  }

  select, input[type=number] {
    width: 100%;
    padding: 10px;
    font-size: 1.1rem;
    border-radius: 5px;
    border: 1px solid #333;
    background: #111;
    color: #eee;
  }

  button {
    margin-top: 20px;
    padding: 12px 20px;
    font-size: 1.2rem;
    font-weight: 700;
    border-radius: 8px;
    border: none;
    background: #b31217; /* vermelho */
    color: #fff;
    cursor: pointer;
    transition: background 0.3s ease;
  }

  button:hover {
    background: #800e11;
  }

  /* Resultado */
  #result {
    margin-top: 30px;
    background: #111;
    border-radius: 8px;
    padding: 20px;
    font-family: monospace;
    font-size: 1.1rem;
    white-space: pre-wrap;
    min-height: 100px;
    color: #eee;
    position: relative;
  }

  /* Bot√µes fixos topo direito */
  .fixed-buttons {
    position: fixed;
    top: 15px;
    right: 20px;
    display: flex;
    gap: 12px;
    z-index: 999;
  }

  .icon-button {
    background: #111;
    border: 1.5px solid #b31217;
    color: #b31217;
    border-radius: 5px;
    width: 36px;
    height: 36px;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    font-size: 18px;
    transition: background 0.3s ease, color 0.3s ease;
  }

  .icon-button:hover {
    background: #b31217;
    color: #fff;
  }
</style>
</head>
<body>

<div class="header-white">
  <div class="city-bg"></div>
  <div class="header-content">
    <h1 class="title">Pirakids</h1>
    <p class="by-nesquik">By Nesquik</p>
    <p class="mafia-quote">The world is yours...</p>
  </div>
</div>

<div class="header-black">Gerard</div>

<div class="container">

  <label for="card-brand">Escolha a bandeira do cart√£o</label>
  <select id="card-brand">
    <option value="random">Aleat√≥rio</option>
    <option value="visa">Visa</option>
    <option value="mastercard">MasterCard</option>
    <option value="amex">Amex</option>
    <option value="discover">Discover</option>
  </select>

  <label for="quantity">Quantos cart√µes gerar?</label>
  <input type="number" id="quantity" value="5" min="1" max="50" />

  <button id="generate">Gerar Cart√µes</button>

  <pre id="result"></pre>

</div>

<div class="fixed-buttons" title="A√ß√µes r√°pidas">
  <button class="icon-button" id="copy-btn" title="Copiar para √°rea de transfer√™ncia" aria-label="Copiar">
    üìã
  </button>
  <button class="icon-button" id="export-btn" title="Exportar para arquivo .txt" aria-label="Exportar">
    üíæ
  </button>
</div>

<script>
  // Fun√ß√£o Luhn para calcular d√≠gito verificador
  function calculateLuhn(number) {
    let sum = 0;
    let doubleDigit = false;
    for (let i = number.length - 1; i >= 0; i--) {
      let digit = parseInt(number[i]);
      if (doubleDigit) {
        digit *= 2;
        if (digit > 9) digit -= 9;
      }
      sum += digit;
      doubleDigit = !doubleDigit;
    }
    return (10 - (sum % 10)) % 10;
  }

  // Prefixos por bandeira
  const brandPrefixes = {
    visa: ['4'],
    mastercard: ['51','52','53','54','55'],
    amex: ['34','37'],
    discover: ['6011', '65', '644', '645', '646', '647', '648', '649']
  };

  // Gera um cart√£o seguindo o padr√£o da bandeira e algoritmo Luhn
  function generateCard(brand) {
    let prefixArr;
    if(brand === 'random') {
      const brands = Object.keys(brandPrefixes);
      brand = brands[Math.floor(Math.random() * brands.length)];
    }
    prefixArr = brandPrefixes[brand];

    const prefix = prefixArr[Math.floor(Math.random() * prefixArr.length)];
    let length = brand === 'amex' ? 15 : 16;

    // Gera o n√∫mero menos o √∫ltimo d√≠gito
    let number = prefix;
    while(number.length < length - 1) {
      number += Math.floor(Math.random() * 10);
    }
    // Calcula o d√≠gito verificador com Luhn
    const checkDigit = calculateLuhn(number);
    return number + checkDigit;
  }

  // Refer√™ncias DOM
  const generateBtn = document.getElementById('generate');
  const resultBox = document.getElementById('result');
  const copyBtn = document.getElementById('copy-btn');
  const exportBtn = document.getElementById('export-btn');
  const brandSelect = document.getElementById('card-brand');
  const quantityInput = document.getElementById('quantity');

  // Gera cart√µes e exibe
  generateBtn.addEventListener('click', () => {
    const brand = brandSelect.value;
    let quantity = parseInt(quantityInput.value);
    if(isNaN(quantity) || quantity < 1) quantity = 1;
    if(quantity > 50) quantity = 50;

    let output = '';
    for(let i=0; i < quantity; i++) {
      output += generateCard(brand) + '\n';
    }
    resultBox.textContent = output.trim();
  });

  // Copiar para √°rea de transfer√™ncia
  copyBtn.addEventListener('click', () => {
    if(resultBox.textContent.trim() === '') return alert('Nada para copiar!');
    navigator.clipboard.writeText(resultBox.textContent).then(() => {
      alert('Texto copiado para √°rea de transfer√™ncia!');
    });
  });

  // Exportar para arquivo .txt
  exportBtn.addEventListener('click', () => {
    if(resultBox.textContent.trim() === '') return alert('Nada para exportar!');
    const blob = new Blob([resultBox.textContent], {type: 'text/plain'});
    const a = document.createElement('a');
    a.href = URL.createObjectURL(blob);
    a.download = 'cartoes.txt';
    a.click();
    URL.revokeObjectURL(a.href);
  });

</script>

</body>
</html>

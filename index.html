<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Filtrar Endereços de SC (Múltiplos .txt)</title>
  <style>
    body {
      background: #111;
      color: #eee;
      font-family: Arial, sans-serif;
      padding: 20px;
    }
    input, .output {
      margin-top: 15px;
      padding: 10px;
      background: #222;
      color: #eee;
      border: none;
      border-radius: 6px;
      width: 100%;
      font-size: 15px;
    }
    .output {
      white-space: pre-wrap;
      min-height: 200px;
    }
  </style>
</head>
<body>

<h2>Filtrar linhas com endereços de SC de múltiplos .txt</h2>

<input type="file" accept=".txt" multiple onchange="lerArquivos(event)" />
<div class="output" id="resultado"></div>

<script>
function lerArquivos(event) {
  const arquivos = Array.from(event.target.files);
  const resultadosSC = [];

  if (arquivos.length === 0) {
    document.getElementById("resultado").textContent = "Nenhum arquivo selecionado.";
    return;
  }

  let lidos = 0;

  arquivos.forEach(arquivo => {
    const leitor = new FileReader();
    leitor.onload = function(e) {
      const conteudo = e.target.result;
      const linhas = conteudo.split('\n');

      const linhasSC = linhas.filter(l => l.toUpperCase().includes('/SC') || l.toUpperCase().includes('- SC') || l.toUpperCase().endsWith(' SC'));

      resultadosSC.push(...linhasSC);
      lidos++;

      if (lidos === arquivos.length) {
        const unicos = [...new Set(resultadosSC)];
        document.getElementById("resultado").textContent = 
          unicos.length ? unicos.join('\n') : "Nenhuma linha com SC encontrada.";
      }
    };
    leitor.readAsText(arquivo);
  });
}
</script>

</body>
</html>

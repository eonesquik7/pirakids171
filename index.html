<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pirakids - Gerador de Cartões</title>
  <style>
    body {
      margin: 0;
      font-family: 'Georgia', serif;
      background: linear-gradient(to bottom right, #000, #111);
      color: #fff;
    }

    header {
      background-color: #000;
      color: #e60000;
      text-align: center;
      padding: 1rem;
      font-size: 2rem;
      font-weight: bold;
      letter-spacing: 2px;
    }

    .container {
      max-width: 800px;
      margin: auto;
      padding: 2rem;
    }

    label,
    select,
    input,
    button {
      display: block;
      width: 100%;
      margin-bottom: 1rem;
      font-size: 1.1rem;
    }

    select,
    input {
      padding: 0.5rem;
      background-color: #111;
      color: #fff;
      border: 1px solid #e60000;
    }

    button {
      background-color: #e60000;
      color: #fff;
      border: none;
      padding: 0.75rem;
      cursor: pointer;
      font-weight: bold;
      transition: background 0.3s;
    }

    button:hover {
      background-color: #b30000;
    }

    .card {
      background-color: #222;
      border: 1px solid #e60000;
      padding: 1rem;
      margin-bottom: 1rem;
      border-radius: 8px;
      font-size: 1.2rem;
      color: #fff;
      position: relative;
    }

    .card-container {
      margin-top: 2rem;
    }

    .fixed-buttons {
      position: fixed;
      top: 1rem;
      right: 1rem;
      display: flex;
      gap: 1rem;
    }

    .icon-button {
      background: none;
      border: none;
      cursor: pointer;
      filter: invert(1);
      width: 32px;
      height: 32px;
    }

    .icon-button:hover {
      opacity: 0.8;
    }
  </style>
</head>

<body>
  <header>Pirakids</header>
  <div class="fixed-buttons">
    <button class="icon-button" onclick="copiarCartoes()" title="Copiar">
      <img src="https://cdn-icons-png.flaticon.com/512/60/60990.png" alt="Copiar" width="24" height="24">
    </button>
    <button class="icon-button" onclick="exportarTxt()" title="Exportar .txt">
      <img src="https://cdn-icons-png.flaticon.com/512/709/709592.png" alt="Exportar" width="24" height="24">
    </button>
  </div>
  <div class="container">
    <label for="bandeira">Escolha a bandeira:</label>
    <select id="bandeira">
      <option value="random">Aleatório</option>
      <option value="4">Visa</option>
      <option value="5">MasterCard</option>
      <option value="3">American Express</option>
      <option value="6">Discover</option>
    </select>

    <label for="quantidade">Quantidade de cartões:</label>
    <input type="number" id="quantidade" min="1" max="100" value="5">

    <button onclick="gerarCartoes()">Gerar Cartões</button>

    <div id="resultado" class="card-container"></div>
  </div>

  <script>
    function gerarCartoes() {
      const bandeira = document.getElementById('bandeira').value;
      const quantidade = parseInt(document.getElementById('quantidade').value);
      const resultado = document.getElementById('resultado');
      resultado.innerHTML = '';

      for (let i = 0; i < quantidade; i++) {
        const inicio = bandeira === 'random' ? ['4', '5', '3', '6'][Math.floor(Math.random() * 4)] : bandeira;
        let numero = inicio;

        while (numero.length < 15) {
          numero += Math.floor(Math.random() * 10);
        }

        numero += calcularLuhn(numero);
        const card = document.createElement('div');
        card.className = 'card';
        card.textContent = numero;
        resultado.appendChild(card);
      }
    }

    function calcularLuhn(numero) {
      let soma = 0;
      let alternar = true;
      for (let i = numero.length - 1; i >= 0; i--) {
        let n = parseInt(numero[i]);
        if (alternar) {
          n *= 2;
          if (n > 9) n -= 9;
        }
        soma += n;
        alternar = !alternar;
      }
      return (10 - (soma % 10)) % 10;
    }

    function copiarCartoes() {
      const cards = document.querySelectorAll('.card');
      const textos = Array.from(cards).map(c => c.textContent).join('\n');
      navigator.clipboard.writeText(textos);
      alert('Cartões copiados!');
    }

    function exportarTxt() {
      const cards = document.querySelectorAll('.card');
      const textos = Array.from(cards).map(c => c.textContent).join('\n');
      const blob = new Blob([textos], { type: 'text/plain' });
      const link = document.createElement('a');
      link.href = URL.createObjectURL(blob);
      link.download = 'cartoes.txt';
      link.click();
    }
  </script>
</body>

</html>

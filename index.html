<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Pirakids - Gerador de CartÃµes</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Anton&family=Roboto&display=swap');

  body {
    margin: 0;
    background-color: #fff; /* fundo branco */
    color: #444;
    font-family: 'Roboto', sans-serif;
  }

  .header-white {
    text-align: center;
    padding: 80px 20px 40px 20px;
    cursor: pointer;
    user-select: none;
  }

  h1.title {
    font-family: 'Anton', sans-serif;
    font-weight: 900;
    font-size: 6rem;
    margin: 0;
    color: #444;
    letter-spacing: 2px;
    transition: color 0.3s ease;
  }

  h1.title:hover {
    color: #b31217; /* vermelho escuro ao passar o mouse */
  }

  p.by-nesquik {
    font-family: 'Roboto', sans-serif;
    font-weight: 500;
    font-size: 1.5rem;
    margin: 4px 0 10px 0;
    color: #555;
    letter-spacing: 1px;
  }

  p.mafia-quote {
    font-style: italic;
    font-weight: 700;
    font-size: 2rem;
    color: #b31217;
    margin-top: 20px;
    letter-spacing: 2px;
    text-shadow:
      1px 1px 2px #00000044;
    display: none; /* comeÃ§a escondido */
  }

  .container {
    max-width: 900px;
    margin: 40px auto 60px;
    padding: 0 20px;
    color: #222;
  }

  label {
    display: block;
    margin: 15px 0 8px 0;
    font-weight: 600;
    font-size: 1.1rem;
  }

  select, input[type=number] {
    width: 100%;
    padding: 10px;
    font-size: 1.1rem;
    border-radius: 5px;
    border: 1px solid #aaa;
    background: #f9f9f9;
    color: #222;
  }

  button {
    margin-top: 20px;
    padding: 12px 20px;
    font-size: 1.2rem;
    font-weight: 700;
    border-radius: 8px;
    border: none;
    background: #b31217;
    color: #fff;
    cursor: pointer;
    transition: background 0.3s ease;
  }

  button:hover {
    background: #800e11;
  }

  #result {
    margin-top: 30px;
    background: #f0f0f0;
    border-radius: 8px;
    padding: 20px;
    font-family: monospace;
    font-size: 1.1rem;
    white-space: pre-wrap;
    min-height: 100px;
    color: #222;
    position: relative;
  }

  .fixed-buttons {
    position: fixed;
    top: 15px;
    right: 20px;
    display: flex;
    gap: 12px;
    z-index: 999;
  }

  .icon-button {
    background: #eee;
    border: 1.5px solid #b31217;
    color: #b31217;
    border-radius: 5px;
    width: 36px;
    height: 36px;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    font-size: 18px;
    transition: background 0.3s ease, color 0.3s ease;
  }

  .icon-button:hover {
    background: #b31217;
    color: #fff;
  }
</style>
</head>
<body>

<div class="header-white" id="headerWhite">
  <h1 class="title">Pirakids</h1>
  <p class="by-nesquik">By Nesquik</p>
  <p class="mafia-quote" id="mafiaQuote">The world is yours...</p>
</div>

<div class="container">

  <label for="card-brand">Escolha a bandeira do cartÃ£o</label>
  <select id="card-brand">
    <option value="random">AleatÃ³rio</option>
    <option value="visa">Visa</option>
    <option value="mastercard">MasterCard</option>
    <option value="amex">Amex</option>
    <option value="discover">Discover</option>
  </select>

  <label for="quantity">Quantos cartÃµes gerar?</label>
  <input type="number" id="quantity" value="5" min="1" max="10000" />

  <button id="generate">Gerar CartÃµes</button>

  <pre id="result"></pre>

</div>

<div class="fixed-buttons" title="AÃ§Ãµes rÃ¡pidas">
  <button class="icon-button" id="copy-btn" title="Copiar para Ã¡rea de transferÃªncia" aria-label="Copiar">ðŸ“‹</button>
  <button class="icon-button" id="export-btn" title="Exportar para arquivo .txt" aria-label="Exportar">ðŸ’¾</button>
</div>

<script>
  const headerWhite = document.getElementById('headerWhite');
  const mafiaQuote = document.getElementById('mafiaQuote');

  headerWhite.addEventListener('click', () => {
    mafiaQuote.style.display = mafiaQuote.style.display === 'none' ? 'block' : 'none';
  });

  function calculateLuhn(number) {
    let sum = 0;
    let doubleDigit = false;
    for (let i = number.length - 1; i >= 0; i--) {
      let digit = parseInt(number[i]);
      if (doubleDigit) {
        digit *= 2;
        if (digit > 9) digit -= 9;
      }
      sum += digit;
      doubleDigit = !doubleDigit;
    }
    return (10 - (sum % 10)) % 10;
  }

  const brandPrefixes = {
    visa: ['4'],
    mastercard: ['51','52','53','54','55'],
    amex: ['34','37'],
    discover: ['6011', '65', '644', '645', '646', '647', '648', '649']
  };

  function generateCard(brand) {
    let prefixArr;
    if(brand === 'random') {
      const brands = Object.keys(brandPrefixes);
      brand = brands[Math.floor(Math.random() * brands.length)];
    }
    prefixArr = brandPrefixes[brand];

    const prefix = prefixArr[Math.floor(Math.random() * prefixArr.length)];
    let length = brand === 'amex' ? 15 : 16;

    let number = prefix;
    while(number.length < length - 1) {
      number += Math.floor(Math.random() * 10);
    }
    const checkDigit = calculateLuhn(number);
    return number + checkDigit;
  }

  const generateBtn = document.getElementById('generate');
  const resultBox = document.getElementById('result');
  const copyBtn = document.getElementById('copy-btn');
  const exportBtn = document.getElementById('export-btn');
  const brandSelect = document.getElementById('card-brand');
  const quantityInput = document.getElementById('quantity');

  generateBtn.addEventListener('click', () => {
    const brand = brandSelect.value;
    let quantity = parseInt(quantityInput.value);
    if(isNaN(quantity) || quantity < 1) quantity = 1;
    if(quantity > 10000) quantity = 10000; // limite alto para performance

    let output = '';
    for(let i=0; i < quantity; i++) {
      output += generateCard(brand) + '\n';
    }
    resultBox.textContent = output.trim();
  });

  copyBtn.addEventListener('click', () => {
    if(resultBox.textContent.trim() === '') return alert('Nada para copiar!');
    navigator.clipboard.writeText(resultBox.textContent).then(() => {
      alert('Texto copiado para Ã¡rea de transferÃªncia!');
    });
  });

  exportBtn.addEventListener('click', () => {
    if(resultBox.textContent.trim() === '') return alert('Nada para exportar!');
    const blob = new Blob([resultBox.textContent], {type: 'text/plain'});
    const a = document.createElement('a');
    a.href = URL.createObjectURL(blob);
    a.download = 'cartoes.txt';
    a.click();
    URL.revokeObjectURL(a.href);
  });

</script>

</body>
</html>
